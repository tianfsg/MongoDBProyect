Q1 - db.json.aggregate([{$match: {ciudad:'Huelva'}}])
Q2 = db.json.find({$or:[{'estudios.universidad':'UPM'},{'estudios.universidad':'UAM'}]})
Q3 - db.persona.aggregate([{$group: {_id:"$ciudad"}}])
Q6 - db.persona.aggregate([ {$match:{"trabajo.empresa":"UPM"}},{$group:{_id:"",avg_estudios:{$avg:{$size: "$estudios"}}}}])
Q7 = db.persona.aggregate([{$unwind:"$estudios"}, {$group:{_id:"$estudios.universidad", count: {$sum: 1}}}, {$sort:{count: -1}}, {$limit: 3}])